{"code":"!function(t){var e={};function r(i){if(e[i])return e[i].exports;var l=e[i]={i:i,l:!1,exports:{}};return t[i].call(l.exports,l,l.exports,r),l.l=!0,l.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var l in t)r.d(i,l,function(e){return t[e]}.bind(null,l));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=0)}([function(t,e){const r=[[],[],[],[],[],[],[],[]];var i,l,o=[[],[],[],[],[],[],[],[]],n=[[],[],[],[],[],[],[],[]],u=null;const s=[];const c={white:!1,black:!1},a={bLeft:!1,bRight:!1,wLeft:!1,wRight:!1};var b=\"white\";const h={x:-1,y:-1},A={x:4,y:0},y={x:4,y:7};var f=null,w=!1;let d=null;function p(t,e,i,o){if(o===b)switch(i){case\"pawn\":!function(t,e,i){let o=\"white\"===i;if(null===r[o?e/50-1:e/50+1][t/50]){let i=!1,n=Array.from(r,t=>Array.from(t));if(n[o?e/50-1:e/50+1][t/50]=n[e/50][t/50],n[e/50][t/50]=null,o?k(n)[y.y][y.x]&&(i=!0):v(n)[A.y][A.x]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",t+25),i.setAttribute(\"cy\",25+(o?e-50:e+50)),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),e/50==(o?1:6)?i.addEventListener(\"click\",i=>{for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e/50][t/50]),r[e/50][t/50]=null;let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");n.setAttribute(\"href\",o?\"Queen_White.png\":\"Queen_Black.png\"),n.setAttribute(\"x\",t),n.setAttribute(\"y\",e+(o?-50:50)),n.setAttribute(\"width\",50),n.setAttribute(\"height\",50),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",t=>{let e=Number(t.toElement.getAttribute(\"x\")),r=Number(t.toElement.getAttribute(\"y\")),i=t.toElement.getAttribute(\"href\"),o=i.slice(0,i.length-4).toLowerCase(),n=o.split(\"_\")[0],c=o.split(\"_\")[1];for(let t=0;t<s.length;)l.removeChild(s.shift());u=t.toElement,p(e,r,n,c)}),l.appendChild(n),r[o?e/50-1:e/50+1][t/50]=n,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}):i.addEventListener(\"click\",n=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[o?e/50-1:e/50+1][t/50]=r[e/50][t/50],r[e/50][t/50]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}if(i=!1,(n=Array.from(r,t=>Array.from(t)))[o?e/50-2:e/50+2][t/50]=n[e/50][t/50],n[e/50][t/50]=null,o?k(n)[y.y][y.x]&&(i=!0):v(n)[A.y][A.x]&&(i=!0),!i&&e/50==(o?6:1)&&null===r[o?e/50-2:e/50+2][t/50]){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",t+25),i.setAttribute(\"cy\",25+(o?e-100:e+100)),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[o?e/50-2:e/50+2][t/50]=r[e/50][t/50],r[e/50][t/50]=null,b=\"white\"===b?\"black\":\"white\",h.x=t/50,h.y=o?e/50-2:e/50+2,x()}),l.appendChild(i),s.push(i)}}if(t/50+1<8&&null!==r[o?e/50-1:e/50+1][t/50+1]&&P(r[o?e/50-1:e/50+1][t/50+1])!==i){let i=!1,n=Array.from(r,t=>Array.from(t));if(n[o?e/50-1:e/50+1][t/50+1]=n[e/50][t/50],n[e/50][t/50]=null,o?k(n)[y.y][y.x]&&(i=!0):v(n)[A.y][A.x]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",t+75),i.setAttribute(\"cy\",25+(o?e-50:e+50)),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),e/50==(o?1:6)?i.addEventListener(\"click\",n=>{for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e/50][t/50]),r[e/50][t/50]=null;let c=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");c.setAttribute(\"href\",o?\"Queen_White.png\":\"Queen_Black.png\"),c.setAttribute(\"x\",i.getAttribute(\"cx\")-25),c.setAttribute(\"y\",i.getAttribute(\"cy\")-25),c.setAttribute(\"width\",50),c.setAttribute(\"height\",50),c.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),c.addEventListener(\"click\",t=>{let e=Number(t.toElement.getAttribute(\"x\")),r=Number(t.toElement.getAttribute(\"y\")),i=t.toElement.getAttribute(\"href\"),o=i.slice(0,i.length-4).toLowerCase(),n=o.split(\"_\")[0],c=o.split(\"_\")[1];for(let t=0;t<s.length;)l.removeChild(s.shift());u=t.toElement,p(e,r,n,c)}),l.appendChild(c),l.removeChild(r[o?e/50-1:e/50+1][t/50+1]),r[o?e/50-1:e/50+1][t/50+1]=c,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}):i.addEventListener(\"click\",n=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());removeLocation=r[o?e/50-1:e/50+1][t/50+1],l.removeChild(removeLocation),r[o?e/50-1:e/50+1][t/50+1]=null,r[o?e/50-1:e/50+1][t/50+1]=r[e/50][t/50],r[e/50][t/50]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}}if(t/50-1>=0&&null!==r[o?e/50-1:e/50+1][t/50-1]&&P(r[o?e/50-1:e/50+1][t/50-1])!==i){let i=!1,n=Array.from(r,t=>Array.from(t));if(n[o?e/50-1:e/50+1][t/50-1]=n[e/50][t/50],n[e/50][t/50]=null,o?k(n)[y.y][y.x]&&(i=!0):v(n)[A.y][A.x]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",t-25),i.setAttribute(\"cy\",25+(o?e-50:e+50)),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),e/50==(o?1:6)?i.addEventListener(\"click\",n=>{for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e/50][t/50]),r[e/50][t/50]=null;let c=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");c.setAttribute(\"href\",o?\"Queen_White.png\":\"Queen_Black.png\"),c.setAttribute(\"x\",i.getAttribute(\"cx\")-25),c.setAttribute(\"y\",i.getAttribute(\"cy\")-25),c.setAttribute(\"width\",50),c.setAttribute(\"height\",50),c.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),c.addEventListener(\"click\",t=>{let e=Number(t.toElement.getAttribute(\"x\")),r=Number(t.toElement.getAttribute(\"y\")),i=t.toElement.getAttribute(\"href\"),o=i.slice(0,i.length-4).toLowerCase(),n=o.split(\"_\")[0],c=o.split(\"_\")[1];for(let t=0;t<s.length;)l.removeChild(s.shift());u=t.toElement,p(e,r,n,c)}),l.appendChild(c),l.removeChild(r[o?e/50-1:e/50+1][t/50-1]),r[o?e/50-1:e/50+1][t/50-1]=c,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}):i.addEventListener(\"click\",n=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[o?e/50-1:e/50+1][t/50-1]),r[o?e/50-1:e/50+1][t/50-1]=null,r[o?e/50-1:e/50+1][t/50-1]=r[e/50][t/50],r[e/50][t/50]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}}if(h.x===t/50-1&&h.y===e/50&&null===r[o?e/50-1:e/50+1][t/50-1]){let i=!1,n=Array.from(r,t=>Array.from(t));if(n[o?e/50-1:e/50+1][t/50-1]=n[e/50][t/50],n[e/50][t/50]=null,n[e/50][t/50-1]=null,o?k(n)[y.y][y.x]&&(i=!0):v(n)[A.y][A.x]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",t-25),i.setAttribute(\"cy\",25+(o?e-50:e+50)),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e/50][t/50-1]),r[e/50][t/50-1]=null,r[o?e/50-1:e/50+1][t/50-1]=r[e/50][t/50],r[e/50][t/50]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}}if(h.x===t/50+1&&h.y===e/50&&null==r[o?e/50-1:e/50+1][t/50+1]){let i=!1,n=Array.from(r,t=>Array.from(t));if(n[o?e/50-1:e/50+1][t/50-1]=n[e/50][t/50],n[e/50][t/50]=null,n[e/50][t/50+1]=null,o?k(n)[y.y][y.x]&&(i=!0):v(n)[A.y][A.x]&&(i=!0),!i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",t+75),i.setAttribute(\"cy\",25+(o?e-50:e+50)),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e/50][t/50+1]),r[e/50][t/50+1]=null,r[o?e/50-1:e/50+1][t/50+1]=r[e/50][t/50],r[e/50][t/50]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}}}(t,e,o);break;case\"knight\":!function(t,e,i){if(e<=250&&t<=300&&(null===r[e/50+2][t/50+1]||P(r[e/50+2][t/50+1])!==i)){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e/50+2][t/50+1]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===i?k(n)[y.y][y.x]&&(o=!0):v(n)[A.y][A.x]&&(o=!0),!o){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",t+75),i.setAttribute(\"cy\",e+125),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropagation()\"'),i.addEventListener(\"click\",o=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());null!==r[e/50+2][t/50+1]&&(l.removeChild(r[e/50+2][t/50+1]),r[e/50+2][t/50+1]=null),r[e/50+2][t/50+1]=r[e/50][t/50],r[e/50][t/50]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}}if(e>=100&&t>=50&&(null===r[e/50-2][t/50-1]||P(r[e/50-2][t/50-1])!==i)){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e/50-2][t/50-1]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===i?k(n)[y.y][y.x]&&(o=!0):v(n)[A.y][A.x]&&(o=!0),!o){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",t-25),i.setAttribute(\"cy\",e-75),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",o=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());null!==r[e/50-2][t/50-1]&&(l.removeChild(r[e/50-2][t/50-1]),r[e/50-2][t/50-1]=null),r[e/50-2][t/50-1]=r[e/50][t/50],r[e/50][t/50]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}}if(e<=250&&t>=50&&(null===r[e/50+2][t/50-1]||P(r[e/50+2][t/50-1])!==i)){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e/50+2][t/50-1]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===i?k(n)[y.y][y.x]&&(o=!0):v(n)[A.y][A.x]&&(o=!0),!o){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",t-25),i.setAttribute(\"cy\",e+125),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropagation()\"'),i.addEventListener(\"click\",o=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());null!==r[e/50+2][t/50-1]&&(l.removeChild(r[e/50+2][t/50-1]),r[e/50+2][t/50-1]=null),r[e/50+2][t/50-1]=r[e/50][t/50],r[e/50][t/50]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}}if(e>=100&&t<=300&&(null===r[e/50-2][t/50+1]||P(r[e/50-2][t/50+1])!==i)){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e/50-2][t/50+1]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===i?k(n)[y.y][y.x]&&(o=!0):v(n)[A.y][A.x]&&(o=!0),!o){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",t+75),i.setAttribute(\"cy\",e-75),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",o=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());null!==r[e/50-2][t/50+1]&&(l.removeChild(r[e/50-2][t/50+1]),r[e/50-2][t/50+1]=null),r[e/50-2][t/50+1]=r[e/50][t/50],r[e/50][t/50]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}}if(e<=300&&t<=250&&(null===r[e/50+1][t/50+2]||P(r[e/50+1][t/50+2])!==i)){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e/50+1][t/50+2]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===i?k(n)[y.y][y.x]&&(o=!0):v(n)[A.y][A.x]&&(o=!0),!o){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",t+125),i.setAttribute(\"cy\",e+75),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropagation()\"'),i.addEventListener(\"click\",o=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());null!==r[e/50+1][t/50+2]&&(l.removeChild(r[e/50+1][t/50+2]),r[e/50+1][t/50+2]=null),r[e/50+1][t/50+2]=r[e/50][t/50],r[e/50][t/50]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}}if(e>=50&&t>=100&&(null===r[e/50-1][t/50-2]||P(r[e/50-1][t/50-2])!==i)){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e/50-1][t/50-2]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===i?k(n)[y.y][y.x]&&(o=!0):v(n)[A.y][A.x]&&(o=!0),!o){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",t-75),i.setAttribute(\"cy\",e-25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",o=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());null!==r[e/50-1][t/50-2]&&(l.removeChild(r[e/50-1][t/50-2]),r[e/50-1][t/50-2]=null),r[e/50-1][t/50-2]=r[e/50][t/50],r[e/50][t/50]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}}if(e>=50&&t<=250&&(null===r[e/50-1][t/50+2]||P(r[e/50-1][t/50+2])!==i)){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e/50-1][t/50+2]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===i?k(n)[y.y][y.x]&&(o=!0):v(n)[A.y][A.x]&&(o=!0),!o){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",t+125),i.setAttribute(\"cy\",e-25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropagation()\"'),i.addEventListener(\"click\",o=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());null!==r[e/50-1][t/50+2]&&(l.removeChild(r[e/50-1][t/50+2]),r[e/50-1][t/50+2]=null),r[e/50-1][t/50+2]=r[e/50][t/50],r[e/50][t/50]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}}if(e<=300&&t>=100&&(null===r[e/50+1][t/50-2]||P(r[e/50+1][t/50-2])!==i)){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e/50+1][t/50-2]=n[e/50][t/50],n[e/50][t/50]=null,\"white\"===i?k(n)[y.y][y.x]&&(o=!0):v(n)[A.y][A.x]&&(o=!0),!o){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",t-75),i.setAttribute(\"cy\",e+75),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",o=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());null!==r[e/50+1][t/50-2]&&(l.removeChild(r[e/50+1][t/50-2]),r[e/50+1][t/50-2]=null),r[e/50+1][t/50-2]=r[e/50][t/50],r[e/50][t/50]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}}}(t,e,o);break;case\"rook\":m(t/50,e/50,o);break;case\"bishop\":g(t/50,e/50,o);break;case\"queen\":m(t/50,e/50,o),g(t/50,e/50,o);break;case\"king\":!function(t,e,i){if(e+1<8&&t+1<8&&null!==r[e+1][t+1]&&P(r[e+1][t+1])!==i){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e+1][t+1]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y+1][y.x+1]&&(o=!0):v(n)[A.y+1][A.x+1]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*(t+1)+25),o.setAttribute(\"cy\",50*(e+1)+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e+1][t+1]),r[e+1][t+1]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t+1,y.y=e+1):(c.black=!0,A.x=t+1,A.y=e+1)}),l.appendChild(o),s.push(o)}}else if(e+1<8&&t+1<8&&null===r[e+1][t+1]){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e+1][t+1]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y+1][y.x+1]&&(o=!0):v(n)[A.y+1][A.x+1]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*(t+1)+25),o.setAttribute(\"cy\",50*(e+1)+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[e+1][t+1]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t+1,y.y=e+1):(c.black=!0,A.x=t+1,A.y=e+1)}),l.appendChild(o),s.push(o)}}if(e-1>=0&&t-1>=0&&null!==r[e-1][t-1]&&P(r[e-1][t-1])!==i){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e-1][t-1]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y-1][y.x-1]&&(o=!0):v(n)[A.y-1][A.x-1]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*(t-1)+25),o.setAttribute(\"cy\",50*(e-1)+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e-1][t-1]),r[e-1][t-1]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t-1,y.y=e-1):(c.black=!0,A.x=t-1,A.y=e-1)}),l.appendChild(o),s.push(o)}}else if(e-1>=0&&t-1>=0&&null===r[e-1][t-1]){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e-1][t-1]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y-1][y.x-1]&&(o=!0):v(n)[A.y-1][A.x-1]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*(t-1)+25),o.setAttribute(\"cy\",50*(e-1)+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[e-1][t-1]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t-1,y.y=e-1):(c.black=!0,A.x=t-1,A.y=e-1)}),l.appendChild(o),s.push(o)}}if(e-1>=0&&t+1<8&&null!==r[e-1][t+1]&&P(r[e-1][t+1])!==i){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e-1][t-1]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y-1][y.x-1]&&(o=!0):v(n)[A.y-1][A.x-1]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*(t+1)+25),o.setAttribute(\"cy\",50*(e-1)+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e-1][t+1]),r[e-1][t+1]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t+1,y.y=e-1):(c.black=!0,A.x=t+1,A.y=e-1)}),l.appendChild(o),s.push(o)}}else if(e-1>=0&&t+1<8&&null===r[e-1][t+1]){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e-1][t+1]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y-1][y.x+1]&&(o=!0):v(n)[A.y-1][A.x+1]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*(t+1)+25),o.setAttribute(\"cy\",50*(e-1)+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[e-1][t+1]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t+1,y.y=e-1):(c.black=!0,A.x=t+1,A.y=e-1)}),l.appendChild(o),s.push(o)}}if(e+1<8&&t-1>=0&&null!==r[e+1][t-1]&&P(r[e+1][t-1])!==i){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e+1][t-1]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y+1][y.x-1]&&(o=!0):v(n)[A.y+1][A.x-1]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*(t-1)+25),o.setAttribute(\"cy\",50*(e+1)+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e+1][t-1]),r[e+1][t-1]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t-1,y.y=e+1):(c.black=!0,A.x=t-1,A.y=e+1)}),l.appendChild(o),s.push(o)}}else if(e+1<8&&t-1>=0&&null===r[e+1][t-1]){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e+1][t-1]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y+1][y.x-1]&&(o=!0):v(n)[A.y+1][A.x-1]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*(t-1)+25),o.setAttribute(\"cy\",50*(e+1)+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[e+1][t-1]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t-1,y.y=e+1):(c.black=!0,A.x=t-1,A.y=e+1)}),l.appendChild(o),s.push(o)}}if(e+1<8&&null!==r[e+1][t]&&P(r[e+1][t])!==i){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e+1][t]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y+1][y.x]&&(o=!0):v(n)[A.y+1][A.x]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*t+25),o.setAttribute(\"cy\",50*(e+1)+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e+1][t]),r[e+1][t]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t,y.y=e+1):(c.black=!0,A.x=t,A.y=e+1)}),l.appendChild(o),s.push(o)}}else if(e+1<8&&null===r[e+1][t]){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e+1][t]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y+1][y.x]&&(o=!0):v(n)[A.y+1][A.x]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*t+25),o.setAttribute(\"cy\",50*(e+1)+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[e+1][t]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t,y.y=e+1):(c.black=!0,A.x=t,A.y=e+1)}),l.appendChild(o),s.push(o)}}if(e-1>=0&&null!==r[e-1][t]&&P(r[e-1][t])!==i){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e-1][t]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y-1][y.x]&&(o=!0):v(n)[A.y-1][A.x]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*t+25),o.setAttribute(\"cy\",50*(e-1)+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e-1][t]),r[e-1][t]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t,y.y=e-1):(c.black=!0,A.x=t,A.y=e-1)}),l.appendChild(o),s.push(o)}}else if(e-1>=0&&null===r[e-1][t]){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e-1][t]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y-1][y.x]&&(o=!0):v(n)[A.y-1][A.x]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*t+25),o.setAttribute(\"cy\",50*(e-1)+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[e-1][t]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t,y.y=e-1):(c.black=!0,A.x=t,A.y=e-1)}),l.appendChild(o),s.push(o)}}if(t+1<8&&null!==r[e][t+1]&&P(r[e][t+1])!==i){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e][t+1]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y][y.x+1]&&(o=!0):v(n)[A.y][A.x+1]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*(t+1)+25),o.setAttribute(\"cy\",50*e+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e][t+1]),r[e][t+1]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t+1,y.y=e):(c.black=!0,A.x=t+1,A.y=e)}),l.appendChild(o),s.push(o)}}else if(t+1<8&&null===r[e][t+1]){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e][t+1]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y][y.x+1]&&(o=!0):v(n)[A.y][A.x+1]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*(t+1)+25),o.setAttribute(\"cy\",50*e+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[e][t+1]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t+1,y.y=e):(c.black=!0,A.x=t+1,A.y=e)}),l.appendChild(o),s.push(o)}}if(t-1>=0&&null!==r[e][t-1]&&P(r[e][t-1])!==i){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e][t-1]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y][y.x-1]&&(o=!0):v(n)[A.y][A.x-1]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*(t-1)+25),o.setAttribute(\"cy\",50*e+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e][t-1]),r[e][t-1]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t-1,y.y=e):(c.black=!0,A.x=t-1,A.y=e)}),l.appendChild(o),s.push(o)}}else if(t-1>=0&&null===r[e][t-1]){let o=!1,n=Array.from(r,t=>Array.from(t));if(n[e][t-1]=n[e][t],n[e][t]=null,\"white\"===i?k(n)[y.y][y.x-1]&&(o=!0):v(n)[A.y][A.x-1]&&(o=!0),!o){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*(t-1)+25),o.setAttribute(\"cy\",50*e+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[e][t-1]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t-1,y.y=e):(c.black=!0,A.x=t-1,A.y=e)}),l.appendChild(o),s.push(o)}}let o=\"white\"===i?c.white:c.black;if(!o&&!w){if(!(o=\"white\"===i?a.wLeft:a.bLeft)&&null===r[\"white\"===i?7:0][1]&&null===r[\"white\"===i?7:0][2]&&null===r[\"white\"===i?7:0][3]){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*(t-2)+25),o.setAttribute(\"cy\",50*e+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());let f=r[\"white\"===i?7:0][0];f.setAttribute(\"x\",50*(t-1)),r[e][t-2]=r[e][t],r[e][t-1]=f,r[e][t]=null,r[\"white\"===i?7:0][0]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t-2,y.y=e,a.wLeft=!0):(c.black=!0,A.x=t-2,A.y=e,a.bLeft=!0)}),l.appendChild(o),s.push(o)}if(!(o=(\"white\"===i?a.wRight:a.bRight)||(\"white\"===i?c.white:c.black))&&null===r[\"white\"===i?7:0][5]&&null===r[\"white\"===i?7:0][6]){let o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");o.setAttribute(\"cx\",50*(t+2)+25),o.setAttribute(\"cy\",50*e+25),o.setAttribute(\"r\",13),o.setAttribute(\"class\",\"moveLocation\"),o.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),o.addEventListener(\"click\",n=>{u.setAttribute(\"x\",o.getAttribute(\"cx\")-25),u.setAttribute(\"y\",o.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());let f=r[\"white\"===i?7:0][7];f.setAttribute(\"x\",50*(t+1)),r[e][t+2]=r[e][t],r[e][t+1]=f,r[e][t]=null,r[\"white\"===i?7:0][7]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?(c.white=!0,y.x=t+2,y.y=e,a.wRight=!0):(c.black=!0,A.x=t+2,A.y=e,a.bRight=!0)}),l.appendChild(o),s.push(o)}}}(t/50,e/50,o)}}function m(t,e,i){for(let o=t+1;o<8;o++){if(null!==r[e][o]){if(P(r[e][o])!==i){let n=!1,c=Array.from(r,t=>Array.from(t));if(c[e][o]=c[e][t],c[e][t]=null,\"white\"===i?k(c)[y.y][y.x]&&(n=!0):v(c)[A.y][A.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*o+25),n.setAttribute(\"cy\",50*e+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",c=>{u.setAttribute(\"x\",n.getAttribute(\"cx\")-25),u.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e][o]),r[e][o]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),l.appendChild(n),s.push(n)}}break}let n=!1,c=Array.from(r,t=>Array.from(t));if(c[e][o]=c[e][t],c[e][t]=null,\"white\"===i?k(c)[y.y][y.x]&&(n=!0):v(c)[A.y][A.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*o+25),n.setAttribute(\"cy\",50*e+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",c=>{u.setAttribute(\"x\",n.getAttribute(\"cx\")-25),u.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[e][o]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),l.appendChild(n),s.push(n)}}for(let o=t-1;o>=0;o--){if(null!==r[e][o]){if(P(r[e][o])!==i){let n=!1,c=Array.from(r,t=>Array.from(t));if(c[e][o]=c[e][t],c[e][t]=null,\"white\"===i?k(c)[y.y][y.x]&&(n=!0):v(c)[A.y][A.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*o+25),n.setAttribute(\"cy\",50*e+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",c=>{u.setAttribute(\"x\",n.getAttribute(\"cx\")-25),u.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e][o]),r[e][o]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),l.appendChild(n),s.push(n)}}break}let n=!1,c=Array.from(r,t=>Array.from(t));if(c[e][o]=c[e][t],c[e][t]=null,\"white\"===i?k(c)[y.y][y.x]&&(n=!0):v(c)[A.y][A.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*o+25),n.setAttribute(\"cy\",50*e+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",c=>{u.setAttribute(\"x\",n.getAttribute(\"cx\")-25),u.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[e][o]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),l.appendChild(n),s.push(n)}}for(let o=e+1;o<8;o++){if(null!==r[o][t]){if(P(r[o][t])!==i){let n=!1,c=Array.from(r,t=>Array.from(t));if(c[o][t]=c[e][t],c[e][t]=null,\"white\"===i?k(c)[y.y][y.x]&&(n=!0):v(c)[A.y][A.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*t+25),n.setAttribute(\"cy\",50*o+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",c=>{u.setAttribute(\"x\",n.getAttribute(\"cx\")-25),u.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[o][t]),r[o][t]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),l.appendChild(n),s.push(n)}}break}let n=!1,c=Array.from(r,t=>Array.from(t));if(c[o][t]=c[e][t],c[e][t]=null,\"white\"===i?k(c)[y.y][y.x]&&(n=!0):v(c)[A.y][A.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*t+25),n.setAttribute(\"cy\",50*o+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",c=>{u.setAttribute(\"x\",n.getAttribute(\"cx\")-25),u.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[o][t]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),l.appendChild(n),s.push(n)}}for(let o=e-1;o>=0;o--){if(null!==r[o][t]){if(P(r[o][t])!==i){let n=!1,c=Array.from(r,t=>Array.from(t));if(c[o][t]=c[e][t],c[e][t]=null,\"white\"===i?k(c)[y.y][y.x]&&(n=!0):v(c)[A.y][A.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*t+25),n.setAttribute(\"cy\",50*o+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",c=>{u.setAttribute(\"x\",n.getAttribute(\"cx\")-25),u.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[o][t]),r[o][t]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),l.appendChild(n),s.push(n)}}break}let n=!1,c=Array.from(r,t=>Array.from(t));if(c[o][t]=c[e][t],c[e][t]=null,\"white\"===i?k(c)[y.y][y.x]&&(n=!0):v(c)[A.y][A.x]&&(n=!0),!n){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*t+25),n.setAttribute(\"cy\",50*o+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",c=>{u.setAttribute(\"x\",n.getAttribute(\"cx\")-25),u.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[o][t]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x(),\"white\"===i?0===t?a.wLeft=!0:a.wRight=!0:0===t?a.bLeft=!0:a.bRight=!0}),l.appendChild(n),s.push(n)}}}function g(t,e,i){for(let o=1;e+o<8&&t+o<8;o++){let n=!1,c=Array.from(r,t=>Array.from(t));if(c[e+o][t+o]=c[e][t],c[e][t]=null,\"white\"===i?k(c)[y.y][y.x]&&(n=!0):v(c)[A.y][A.x]&&(n=!0),!n){if(null!==r[e+o][t+o]){if(P(r[e+o][t+o])!==i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t+o)+25),i.setAttribute(\"cy\",50*(e+o)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e+o][t+o]),r[e+o][t+o]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}break}let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*(t+o)+25),n.setAttribute(\"cy\",50*(e+o)+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",i=>{u.setAttribute(\"x\",n.getAttribute(\"cx\")-25),u.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[e+o][t+o]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(n),s.push(n)}}for(let o=1;e-o>=0&&t-o>=0;o++){let n=!1,c=Array.from(r,t=>Array.from(t));if(c[e-o][t-o]=c[e][t],c[e][t]=null,\"white\"===i?k(c)[y.y][y.x]&&(n=!0):v(c)[A.y][A.x]&&(n=!0),!n){if(null!==r[e-o][t-o]){if(P(r[e-o][t-o])!==i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t-o)+25),i.setAttribute(\"cy\",50*(e-o)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e-o][t-o]),r[e-o][t-o]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}break}let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*(t-o)+25),n.setAttribute(\"cy\",50*(e-o)+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",i=>{u.setAttribute(\"x\",n.getAttribute(\"cx\")-25),u.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[e-o][t-o]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(n),s.push(n)}}for(let o=1;e+o<8&&t-o>=0;o++){let n=!1,c=Array.from(r,t=>Array.from(t));if(c[e+o][t-o]=c[e][t],c[e][t]=null,\"white\"===i?k(c)[y.y][y.x]&&(n=!0):v(c)[A.y][A.x]&&(n=!0),!n){if(null!==r[e+o][t-o]){if(P(r[e+o][t-o])!==i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t-o)+25),i.setAttribute(\"cy\",50*(e+o)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e+o][t-o]),r[e+o][t-o]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}break}let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*(t-o)+25),n.setAttribute(\"cy\",50*(e+o)+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",i=>{u.setAttribute(\"x\",n.getAttribute(\"cx\")-25),u.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[e+o][t-o]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(n),s.push(n)}}for(let o=1;e-o>=0&&t+o<8;o++){let n=!1,c=Array.from(r,t=>Array.from(t));if(c[e-o][t+o]=c[e][t],c[e][t]=null,\"white\"===i?k(c)[y.y][y.x]&&(n=!0):v(c)[A.y][A.x]&&(n=!0),!n){if(null!==r[e-o][t+o]){if(P(r[e-o][t+o])!==i){let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");i.setAttribute(\"cx\",50*(t+o)+25),i.setAttribute(\"cy\",50*(e-o)+25),i.setAttribute(\"r\",13),i.setAttribute(\"class\",\"moveLocation\"),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),i.addEventListener(\"click\",n=>{u.setAttribute(\"x\",i.getAttribute(\"cx\")-25),u.setAttribute(\"y\",i.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());l.removeChild(r[e-o][t+o]),r[e-o][t+o]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(i),s.push(i)}break}let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");n.setAttribute(\"cx\",50*(t+o)+25),n.setAttribute(\"cy\",50*(e-o)+25),n.setAttribute(\"r\",13),n.setAttribute(\"class\",\"moveLocation\"),n.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),n.addEventListener(\"click\",i=>{u.setAttribute(\"x\",n.getAttribute(\"cx\")-25),u.setAttribute(\"y\",n.getAttribute(\"cy\")-25);for(let t=0;t<s.length;)l.removeChild(s.shift());r[e-o][t+o]=r[e][t],r[e][t]=null,b=\"white\"===b?\"black\":\"white\",h.x=-1,h.y=-1,x()}),l.appendChild(n),s.push(n)}}}function x(){o=v(r),n=k(r)}function v(t){let e=[[],[],[],[],[],[],[],[]];for(let t=0;t<8;t++)for(let r=0;r<8;r++)e[r][t]=!1;for(let r=0;r<8;r++)for(let i=0;i<8;i++)if(null!==t[i][r]&&\"black\"!==P(t[i][r]))switch(_(t[i][r])){case\"pawn\":C(r,i,e,\"white\");break;case\"knight\":E(r,i,e);break;case\"bishop\":L(r,i,e,t);break;case\"rook\":N(r,i,e,t);break;case\"queen\":N(r,i,e,t),L(r,i,e,t);case\"king\":S(r,i,e)}return e}function k(t){let e=[[],[],[],[],[],[],[],[]];for(let t=0;t<8;t++)for(let r=0;r<8;r++)e[r][t]=!1;for(let r=0;r<8;r++)for(let i=0;i<8;i++)if(null!==t[i][r]&&\"white\"!==P(t[i][r]))switch(_(t[i][r])){case\"pawn\":C(r,i,e,\"black\");break;case\"knight\":E(r,i,e);break;case\"bishop\":L(r,i,e,t);break;case\"rook\":N(r,i,e,t);break;case\"queen\":N(r,i,e,t),L(r,i,e,t);break;case\"king\":S(r,i,e)}return e}function C(t,e,r,i){\"white\"===i?(t-1>=0&&(r[e-1][t-1]=!0),t+1<8&&(r[e-1][t+1]=!0)):(t-1>=0&&(r[e+1][t-1]=!0),t+1<8&&(r[e+1][t+1]=!0))}function E(t,e,r){e+2<8&&t+1<8&&(r[e+2][t+1]=!0),e+2<8&&t-1>=0&&(r[e+2][t-1]=!0),e-2>=0&&t+1<8&&(r[e-2][t+1]=!0),e-2>=0&&t-1>=0&&(r[e-2][t-1]=!0),e+1<8&&t+2<8&&(r[e+1][t+2]=!0),e+1<8&&t-2>=0&&(r[e+1][t-2]=!0),e-1>=0&&t+2<8&&(r[e-1][t+2]=!0),e-1>=0&&t-2>=0&&(r[e-1][t-2]=!0)}function L(t,e,r,i){for(let l=1;t+l<8&&e+l<8&&(r[e+l][t+l]=!0,null===i[e+l][t+l]);l++);for(let l=1;t-l>=0&&e-l>=0&&(r[e-l][t-l]=!0,null===i[e-l][t-l]);l++);for(let l=1;t-l>=0&&e+l<8&&(r[e+l][t-l]=!0,null===i[e+l][t-l]);l++);for(let l=1;t+l<8&&e-l>=0&&(r[e-l][t+l]=!0,null===i[e-l][t+l]);l++);}function N(t,e,r,i){for(let l=1;t+l<8&&(r[e][t+l]=!0,null===i[e][t+l]);l++);for(let l=1;t-l>=0&&(r[e][t-l]=!0,null===i[e][t-l]);l++);for(let l=1;e+l<8&&(r[e+l][t]=!0,null===i[e+l][t]);l++);for(let l=1;e-l>=0&&(r[e-l][t]=!0,null===i[e-l][t]);l++);}function S(t,e,r){e+1<8&&t+1<8&&(r[e+1][t+1]=!0),e+1<8&&t-1>=0&&(r[e+1][t-1]=!0),e-1>=0&&t+1<8&&(r[e-1][t+1]=!0),e-1>=0&&t-1>=0&&(r[e-1][t-1]=!0),e+1<8&&(r[e+1][t]=!0),e-1>=0&&(r[e-1][t]=!0),t+1<8&&(r[e][t+1]=!0),t-1>=0&&(r[e][t-1]=!0)}function P(t){return t.getAttribute(\"href\").slice(0,t.getAttribute(\"href\").length-4).toLowerCase().split(\"_\")[1]}function _(t){return t.getAttribute(\"href\").slice(0,t.getAttribute(\"href\").length-4).toLowerCase().split(\"_\")[0]}function R(t,e,i){let l=\"white\"===i;if(null===r[l?e-1:e+1][t]){let i=Array.from(r,t=>Array.from(t));if(i[l?e-1:e+1][t]=i[e][t],i[e][t]=null,l){if(!k(i)[y.y][y.x])return!0}else if(!v(i)[A.y][A.x])return!0;if((i=Array.from(r,t=>Array.from(t)))[l?e-2:e+2][t]=i[e][t],i[e][t]=null,l){if(!k(i)[y.y][y.x])return!0}else if(!v(i)[A.y][A.x])return!0}if(t+1<8&&null!==r[l?e-1:e+1][t+1]&&P(r[l?e-1:e+1][t+1])!==i)if(boardCopy=Array.from(r,t=>Array.from(t)),boardCopy[l?e-1:e+1][t+1]=boardCopy[e][t],boardCopy[e][t]=null,l){if(!k(boardCopy)[y.y][y.x])return!0}else if(!v(boardCopy)[A.y][A.x])return!0;if(t-1>=0&&null!==r[l?e-1:e+1][t-1]&&P(r[l?e-1:e+1][t-1])!==i)if(boardCopy=Array.from(r,t=>Array.from(t)),boardCopy[l?e-1:e+1][t-1]=boardCopy[e][t],boardCopy[e][t]=null,l){if(!k(boardCopy)[y.y][y.x])return!0}else if(!v(boardCopy)[A.y][A.x])return!0;if(h.x===t-1&&h.y===e&&null===r[l?e-1:e+1][t-1])if(boardCopy=Array.from(r,t=>Array.from(t)),boardCopy[l?e-1:e+1][t-1]=boardCopy[e][t],boardCopy[e][t]=null,boardCopy[e][t-1]=null,l){if(!k(boardCopy)[y.y][y.x])return!0}else if(!v(boardCopy)[A.y][A.x])return!0;if(h.x===t+1&&h.y===e&&null==r[l?e-1:e+1][t+1]){if(boardCopy=Array.from(r,t=>Array.from(t)),boardCopy[l?e-1:e+1][t-1]=boardCopy[e][t],boardCopy[e][t]=null,boardCopy[e][t+1]=null,l){if(!k(boardCopy)[y.y][y.x])return!0}else if(!v(boardCopy)[A.y][A.x])return!0;return!1}}function B(t,e,i){if(e<=5&&t<=6&&(null===r[e+2][t+1]||P(r[e+2][t+1])!==i))if(boardCopy=Array.from(r,t=>Array.from(t)),boardCopy[e+2][t+1]=boardCopy[e][t],boardCopy[e][t]=null,\"white\"===i){if(!k(boardCopy)[y.y][y.x])return!0}else if(!v(boardCopy)[A.y][A.x])return!0;if(e>=2&&t>=1&&(null===r[e-2][t-1]||P(r[e-2][t-1])!==i))if(boardCopy=Array.from(r,t=>Array.from(t)),boardCopy[e-2][t-1]=boardCopy[e][t],boardCopy[e][t]=null,\"white\"===i){if(!k(boardCopy)[y.y][y.x])return!0}else if(!v(boardCopy)[A.y][A.x])return!0;if(e<=5&&t>=1&&(null===r[e+2][t-1]||P(r[e+2][t-1])!==i))if(boardCopy=Array.from(r,t=>Array.from(t)),boardCopy[e+2][t-1]=boardCopy[e][t],boardCopy[e][t]=null,\"white\"===i){if(!k(boardCopy)[y.y][y.x])return!0}else if(!v(boardCopy)[A.y][A.x])return!0;if(e>=2&&t<=6&&(null===r[e-2][t+1]||P(r[e-2][t+1])!==i))if(boardCopy=Array.from(r,t=>Array.from(t)),boardCopy[e-2][t+1]=boardCopy[e][t],boardCopy[e][t]=null,\"white\"===i){if(!k(boardCopy)[y.y][y.x])return!0}else if(!v(boardCopy)[A.y][A.x])return!0;if(e<=6&&t<=5&&(null===r[e+1][t+2]||P(r[e+1][t+2])!==i))if(boardCopy=Array.from(r,t=>Array.from(t)),boardCopy[e+1][t+2]=boardCopy[e][t],boardCopy[e][t]=null,\"white\"===i){if(!k(boardCopy)[y.y][y.x])return!0}else if(!v(boardCopy)[A.y][A.x])return!0;if(e>=1&&t>=2&&(null===r[e-1][t-2]||P(r[e-1][t-2])!==i))if(boardCopy=Array.from(r,t=>Array.from(t)),boardCopy[e-1][t-2]=boardCopy[e][t],boardCopy[e][t]=null,\"white\"===i){if(!k(boardCopy)[y.y][y.x])return!0}else if(!v(boardCopy)[A.y][A.x])return!0;if(e>=1&&t<=5&&(null===r[e-1][t+2]||P(r[e-1][t+2])!==i))if(boardCopy=Array.from(r,t=>Array.from(t)),boardCopy[e-1][t+2]=boardCopy[e][t],boardCopy[e][t]=null,\"white\"===i){if(!k(boardCopy)[y.y][y.x])return!0}else if(!v(boardCopy)[A.y][A.x])return!0;if(e<=6&&t>=2&&(null===r[e+1][t-2]||P(r[e+1][t-2])!==i))if(boardCopy=Array.from(r,t=>Array.from(t)),boardCopy[e+1][t-2]=boardCopy[e][t],boardCopy[e][XMLHttpRequestUpload]=null,\"white\"===i){if(!k(boardCopy)[y.y][y.x])return!0}else if(!v(boardCopy)[A.y][A.x])return!0;return!1}function W(t,e,i){for(let l=1;e+l<8&&t+l<8;l++){let o=Array.from(r,t=>Array.from(t));if(o[e+l][t+l]=o[e][t],o[e][t]=null,\"white\"===i){if(!k(o)[y.y][y.x])return!0}else if(!v(o)[A.y][A.x])return!0}for(let l=1;e-l>=0&&t-l>=0;l++){let o=Array.from(r,t=>Array.from(t));if(o[e-l][t-l]=o[e][t],o[e][t]=null,\"white\"===i){if(!k(o)[y.y][y.x])return!0}else if(!v(o)[A.y][A.x])return!0}for(let l=1;e+l<8&&t-l>=0;l++){let o=Array.from(r,t=>Array.from(t));if(o[e+l][t-l]=o[e][t],o[e][t]=null,\"white\"===i){if(!k(o)[y.y][y.x])return!0}else if(!v(o)[A.y][A.x])return!0}for(let l=1;e-l>=0&&t+l<8;l++){let o=Array.from(r,t=>Array.from(t));if(o[e-l][t+l]=o[e][t],o[e][t]=null,\"white\"===i){if(!k(o)[y.y][y.x])return!0}else if(!v(o)[A.y][A.x])return!0}return!1}function O(t,e,i){for(let l=t+1;l<8;l++){if(null!==r[e][l]&&P(r[e][l])!==i){let o=Array.from(r,t=>Array.from(t));if(o[e][l]=o[e][t],o[e][t]=null,\"white\"===i){if(!k(o)[y.y][y.x])return!0}else if(!v(o)[A.y][A.x])return!0}let o=Array.from(r,t=>Array.from(t));if(o[e][l]=o[e][t],o[e][t]=null,\"white\"===i){if(!k(o)[y.y][y.x])return!0}else if(!v(o)[A.y][A.x])return!0}for(let l=t-1;l>=0;l--){if(null!==r[e][l]&&P(r[e][l])!==i){let o=Array.from(r,t=>Array.from(t));if(o[e][l]=o[e][t],o[e][t]=null,\"white\"===i){if(!k(o)[y.y][y.x])return!0}else if(!v(o)[A.y][A.x])return!0}let o=Array.from(r,t=>Array.from(t));if(o[e][l]=o[e][t],o[e][t]=null,\"white\"===i){if(!k(o)[y.y][y.x])return!0}else if(!v(o)[A.y][A.x])return!0}for(let l=e+1;l<8;l++){if(null!==r[l][t]&&P(r[l][t])!==i){let o=Array.from(r,t=>Array.from(t));if(o[l][t]=o[e][t],o[e][t]=null,\"white\"===i){if(!k(o)[y.y][y.x])return!0}else if(!v(o)[A.y][A.x])return!0}let o=Array.from(r,t=>Array.from(t));if(o[l][t]=o[e][t],o[e][t]=null,\"white\"===i){if(!k(o)[y.y][y.x])return!0}else if(!v(o)[A.y][A.x])return!0}for(let l=e-1;l>=0;l--){if(null!==r[l][t]&&P(r[l][t])!==i){let o=Array.from(r,t=>Array.from(t));if(o[l][t]=o[e][t],o[e][t]=null,\"white\"===i){if(!k(o)[y.y][y.x])return!0}else if(!v(o)[A.y][A.x])return!0}let o=Array.from(r,t=>Array.from(t));if(o[l][t]=o[e][t],o[e][t]=null,\"white\"===i){if(!k(o)[y.y][y.x])return!0}else if(!v(o)[A.y][A.x])return!0}return!1}function Q(t,e,i){if(e+1<8&&t+1<8&&null!==r[e+1][t+1]&&P(r[e+1][t+1])!==i){let l=Array.from(r,t=>Array.from(t));if(l[e+1][t+1]=l[e][t],l[e][t]=null,\"white\"===i){if(k(l)[y.y+1][y.x+1])return!0}else if(!v(l)[A.y+1][A.x+1])return!0}else if(e+1<8&&t+1<8&&null===r[e+1][t+1]){let l=Array.from(r,t=>Array.from(t));if(l[e+1][t+1]=l[e][t],l[e][t]=null,\"white\"===i){if(!k(l)[y.y+1][y.x+1])return!0}else if(!v(l)[A.y+1][A.x+1])return!0}if(e-1>=0&&t-1>=0&&null!==r[e-1][t-1]&&P(r[e-1][t-1])!==i){let l=Array.from(r,t=>Array.from(t));if(l[e-1][t-1]=l[e][t],l[e][t]=null,\"white\"===i){if(!k(l)[y.y-1][y.x-1])return!0}else if(!v(l)[A.y-1][A.x-1])return!0}else if(e-1>=0&&t-1>=0&&null===r[e-1][t-1]){let l=Array.from(r,t=>Array.from(t));if(l[e-1][t-1]=l[e][t],l[e][t]=null,\"white\"===i){if(!k(l)[y.y-1][y.x-1])return!0}else if(!v(l)[A.y-1][A.x-1])return!0}if(e-1>=0&&t+1<8&&null!==r[e-1][t+1]&&P(r[e-1][t+1])!==i){let l=Array.from(r,t=>Array.from(t));if(l[e-1][t-1]=l[e][t],l[e][t]=null,\"white\"===i){if(!k(l)[y.y-1][y.x-1])return!0}else if(!v(l)[A.y-1][A.x-1])return!0}else if(e-1>=0&&t+1<8&&null===r[e-1][t+1]){let l=Array.from(r,t=>Array.from(t));if(l[e-1][t+1]=l[e][t],l[e][t]=null,\"white\"===i){if(!k(l)[y.y-1][y.x+1])return!0}else if(!v(l)[A.y-1][A.x+1])return!0}if(e+1<8&&t-1>=0&&null!==r[e+1][t-1]&&P(r[e+1][t-1])!==i){let l=Array.from(r,t=>Array.from(t));if(l[e+1][t-1]=l[e][t],l[e][t]=null,\"white\"===i){if(!k(l)[y.y+1][y.x-1])return!0}else if(!v(l)[A.y+1][A.x-1])return!0}else if(e+1<8&&t-1>=0&&null===r[e+1][t-1]){let l=Array.from(r,t=>Array.from(t));if(l[e+1][t-1]=l[e][t],l[e][t]=null,\"white\"===i){if(!k(l)[y.y+1][y.x-1])return!0}else if(!v(l)[A.y+1][A.x-1])return!0}if(e+1<8&&null!==r[e+1][t]&&P(r[e+1][t])!==i){let l=Array.from(r,t=>Array.from(t));if(l[e+1][t]=l[e][t],l[e][t]=null,\"white\"===i){if(!k(l)[y.y+1][y.x])return!0}else if(!v(l)[A.y+1][A.x])return!0}else if(e+1<8&&null===r[e+1][t]){let l=Array.from(r,t=>Array.from(t));if(l[e+1][t]=l[e][t],l[e][t]=null,\"white\"===i){if(!k(l)[y.y+1][y.x])return!0}else if(!v(l)[A.y+1][A.x])return!0}if(e-1>=0&&null!==r[e-1][t]&&P(r[e-1][t])!==i){let l=Array.from(r,t=>Array.from(t));if(l[e-1][t]=l[e][t],l[e][t]=null,\"white\"===i){if(!k(l)[y.y-1][y.x])return!0}else if(!v(l)[A.y-1][A.x])return!0}else if(e-1>=0&&null===r[e-1][t]){let l=Array.from(r,t=>Array.from(t));if(l[e-1][t]=l[e][t],l[e][t]=null,\"white\"===i){if(!k(l)[y.y-1][y.x])return!0}else if(!v(l)[A.y-1][A.x])return!0}if(t+1<8&&null!==r[e][t+1]&&P(r[e][t+1])!==i){let l=Array.from(r,t=>Array.from(t));if(l[e][t+1]=l[e][t],l[e][t]=null,\"white\"===i){if(!k(l)[y.y][y.x+1])return!0}else if(!v(l)[A.y][A.x+1])return!0}else if(t+1<8&&null===r[e][t+1]){let l=Array.from(r,t=>Array.from(t));if(l[e][t+1]=l[e][t],l[e][t]=null,\"white\"===i){if(!k(l)[y.y][y.x+1])return!0}else if(!v(l)[A.y][A.x+1])return!0}if(t-1>=0&&null!==r[e][t-1]&&P(r[e][t-1])!==i){let l=Array.from(r,t=>Array.from(t));if(l[e][t-1]=l[e][t],l[e][t]=null,\"white\"===i){if(!k(l)[y.y][y.x-1])return!0}else if(!v(l)[A.y][A.x-1])return!0}else if(t-1>=0&&null===r[e][t-1]){let l=Array.from(r,t=>Array.from(t));if(l[e][t-1]=l[e][t],l[e][t]=null,\"white\"===i){if(k(l)[y.y][y.x-1])return!0}else if(v(l)[A.y][A.x-1])return!0}return!1}window.addEventListener(\"load\",t=>{i=document.getElementById(\"board\"),l=document.getElementById(\"g\");for(let t=0;t<64;t++){let e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"rect\");e.setAttribute(\"x\",50*Math.floor(t/8)),e.setAttribute(\"y\",t%8*50),e.setAttribute(\"width\",\"50\"),e.setAttribute(\"height\",\"50\"),e.setAttribute(\"class\",\"tile\"),e.setAttribute(\"fill\",(Math.floor(t/8)+t%8)%2==0?\"white\":\"black\"),l.appendChild(e)}!function(){for(let t=0;t<8;t++){let e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");e.setAttribute(\"href\",\"Pawn_White.png\"),e.setAttribute(\"x\",50*t),e.setAttribute(\"y\",300),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(e);let i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");i.setAttribute(\"href\",\"Pawn_Black.png\"),i.setAttribute(\"x\",50*t),i.setAttribute(\"y\",50),i.setAttribute(\"width\",50),i.setAttribute(\"height\",50),i.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(i),r[1][t]=i,r[6][t]=e}for(let t=0;t<8;t++)r[2][t]=null,r[3][t]=null,r[4][t]=null,r[5][t]=null;let t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");t.setAttribute(\"href\",\"Rook_White.png\"),t.setAttribute(\"x\",0),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(t);let e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");e.setAttribute(\"href\",\"Rook_Black.png\"),e.setAttribute(\"x\",0),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(e),r[0][0]=e,r[7][0]=t,(t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Rook_White.png\"),t.setAttribute(\"x\",350),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(t),(e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Rook_Black.png\"),e.setAttribute(\"x\",350),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(e),r[0][7]=e,r[7][7]=t,(t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Knight_White.png\"),t.setAttribute(\"x\",300),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(t),(e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Knight_Black.png\"),e.setAttribute(\"x\",300),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(e),r[0][6]=e,r[7][6]=t,(t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Knight_White.png\"),t.setAttribute(\"x\",50),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(t),(e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Knight_Black.png\"),e.setAttribute(\"x\",50),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(e),r[0][1]=e,r[7][1]=t,(t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Bishop_White.png\"),t.setAttribute(\"x\",250),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(t),(e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Bishop_Black.png\"),e.setAttribute(\"x\",250),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(e),r[0][5]=e,r[7][5]=t,(t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Bishop_White.png\"),t.setAttribute(\"x\",100),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(t),(e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Bishop_Black.png\"),e.setAttribute(\"x\",100),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(e),r[0][2]=e,r[7][2]=t,(t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"King_White.png\"),t.setAttribute(\"x\",200),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(t),(e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"King_Black.png\"),e.setAttribute(\"x\",200),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(e),r[0][4]=e,r[7][4]=t,(t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Queen_White.png\"),t.setAttribute(\"x\",150),t.setAttribute(\"y\",350),t.setAttribute(\"width\",50),t.setAttribute(\"height\",50),t.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(t),(e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\")).setAttribute(\"href\",\"Queen_Black.png\"),e.setAttribute(\"x\",150),e.setAttribute(\"y\",0),e.setAttribute(\"width\",50),e.setAttribute(\"height\",50),e.setAttribute(\"onclick\",'\"event.stopPropogation()\"'),l.appendChild(e),r[0][3]=e,r[7][3]=t}(),r.forEach(t=>{t.forEach(t=>{null!==t&&t.addEventListener(\"click\",t=>{let e=Number(t.toElement.getAttribute(\"x\")),r=Number(t.toElement.getAttribute(\"y\")),i=t.toElement.getAttribute(\"href\"),o=i.slice(0,i.length-4).toLowerCase(),n=o.split(\"_\")[0],c=o.split(\"_\")[1];for(let t=0;t<s.length;)l.removeChild(s.shift());u=t.toElement,p(e,r,n,c)})})}),x(),setInterval(()=>{if(w&&function(){for(let t=0;t<8;t++)for(let e=0;e<8;e++)if(null!==r[e][t]&&P(r[e][t]===b))switch(_(r[e][t])){case\"pawn\":if(R(t,e,b))return!1;break;case\"knight\":if(B(t,e,b))return!1;break;case\"bishop\":if(W(t,e,b))return!1;break;case\"rook\":if(O(t,e,b))return!1;break;case\"queen\":if(W(t,e,b)||O(t,e,b))return!1;break;case\"king\":if(Q(t,e,b))return!1}return!0}()&&alert(\"Game Over!\\n\"+b.toUpperCase()+\" WINS!\"),\"white\"===b)if(n[y.y][y.x]){null!==f&&(l.removeChild(f),f=null);let t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");t.setAttribute(\"cx\",50*y.x+25),t.setAttribute(\"cy\",50*y.y+25),t.setAttribute(\"r\",25),t.setAttribute(\"fill\",\"url(#grad1)\"),t.setAttribute(\"id\",\"checkCircle\"),t.addEventListener(\"click\",t=>{d=t}),l.appendChild(t),f=t,w=!0}else null!==f?(l.removeChild(f),f=null,w=!1):w=!1;else if(\"black\"===b)if(o[A.y][A.x]){null!==f&&(l.removeChild(f),f=null);let t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");t.setAttribute(\"cx\",50*A.x+25),t.setAttribute(\"cy\",50*A.y+25),t.setAttribute(\"r\",25),t.setAttribute(\"fill\",\"url(#grad1)\"),t.setAttribute(\"id\",\"checkCircle\"),t.addEventListener(\"click\",t=>{d=t}),l.appendChild(t),f=t,w=!0}else null!==f?(l.removeChild(f),f=null,w=!1):w=!1;null!==d&&(r[\"white\"===b?y.y:A.y][\"white\"===b?y.x:A.x].dispatchEvent(d),d=null)},250)}),document.addEventListener(\"click\",t=>{if(t.target===document.body||t.target===i||\"tile\"===t.target.getAttribute(\"class\")){u=null;for(let t=0;t<s.length;)l.removeChild(s.shift())}})}]);","extractedComments":[]}