!function(t){var e={};function i(r){if(e[r])return e[r].exports;var l=e[r]={i:r,l:!1,exports:{}};return t[r].call(l.exports,l,l.exports,i),l.l=!0,l.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)i.d(r,l,function(e){return t[e]}.bind(null,l));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e){const i=[[],[],[],[],[],[],[],[]];var r,l,s=null;const u=[];const n={white:!1,black:!1},o={bLeft:!1,bRight:!1,wLeft:!1,wRight:!1};function c(t,e,r){for(let n=t+1;n<8;n++){if(null!==i[e][n]){if(A(i[e][n])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*n+25),r.setAttribute("cy",50*e+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",o=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[e][n]),i[e][n]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}break}let o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",50*n+25),o.setAttribute("cy",50*e+25),o.setAttribute("r",10),o.setAttribute("class","moveLocation"),o.setAttribute("onclick",'"event.stopPropogation()"'),o.addEventListener("click",r=>{s.setAttribute("x",o.getAttribute("cx")-25),s.setAttribute("y",o.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[e][n]=i[e][t],i[e][t]=null}),l.appendChild(o),u.push(o)}for(let n=t-1;n>=0;n--){if(null!==i[e][n]){if(A(i[e][n])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*n+25),r.setAttribute("cy",50*e+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",o=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[e][n]),i[e][n]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}break}let o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",50*n+25),o.setAttribute("cy",50*e+25),o.setAttribute("r",10),o.setAttribute("class","moveLocation"),o.setAttribute("onclick",'"event.stopPropogation()"'),o.addEventListener("click",r=>{s.setAttribute("x",o.getAttribute("cx")-25),s.setAttribute("y",o.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[e][n]=i[e][t],i[e][t]=null}),l.appendChild(o),u.push(o)}for(let n=e+1;n<8;n++){if(null!==i[n][t]){if(A(i[n][t])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*t+25),r.setAttribute("cy",50*n+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",o=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[n][t]),i[n][t]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}break}let o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",50*t+25),o.setAttribute("cy",50*n+25),o.setAttribute("r",10),o.setAttribute("class","moveLocation"),o.setAttribute("onclick",'"event.stopPropogation()"'),o.addEventListener("click",r=>{s.setAttribute("x",o.getAttribute("cx")-25),s.setAttribute("y",o.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[n][t]=i[e][t],i[e][t]=null}),l.appendChild(o),u.push(o)}for(let n=e-1;n>=0;n--){if(null!==i[n][t]){if(A(i[n][t])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*t+25),r.setAttribute("cy",50*n+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",o=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[n][t]),i[n][t]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}break}let o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",50*t+25),o.setAttribute("cy",50*n+25),o.setAttribute("r",10),o.setAttribute("class","moveLocation"),o.setAttribute("onclick",'"event.stopPropogation()"'),o.addEventListener("click",r=>{s.setAttribute("x",o.getAttribute("cx")-25),s.setAttribute("y",o.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[n][t]=i[e][t],i[e][t]=null}),l.appendChild(o),u.push(o)}}function b(t,e,r){for(let n=1;e+n<8&&t+n<8;n++){if(null!==i[e+n][t+n]){if(A(i[e+n][t+n])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t+n)+25),r.setAttribute("cy",50*(e+n)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",o=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[e+n][t+n]),i[e+n][t+n]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}break}let o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",50*(t+n)+25),o.setAttribute("cy",50*(e+n)+25),o.setAttribute("r",10),o.setAttribute("class","moveLocation"),o.setAttribute("onclick",'"event.stopPropogation()"'),o.addEventListener("click",r=>{s.setAttribute("x",o.getAttribute("cx")-25),s.setAttribute("y",o.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[e][n]=i[e][t],i[e][t]=null}),l.appendChild(o),u.push(o)}for(let n=1;e-n>=0&&t-n>=0;n++){if(null!==i[e-n][t-n]){if(A(i[e-n][t-n])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t-n)+25),r.setAttribute("cy",50*(e-n)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",o=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[e-n][t-n]),i[e-n][t-n]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}break}let o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",50*(t-n)+25),o.setAttribute("cy",50*(e-n)+25),o.setAttribute("r",10),o.setAttribute("class","moveLocation"),o.setAttribute("onclick",'"event.stopPropogation()"'),o.addEventListener("click",r=>{s.setAttribute("x",o.getAttribute("cx")-25),s.setAttribute("y",o.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[e-n][t-n]=i[e][t],i[e][t]=null}),l.appendChild(o),u.push(o)}for(let n=1;e+n<8&&t-n>=0;n++){if(null!==i[e+n][t-n]){if(A(i[e+n][t-n])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t-n)+25),r.setAttribute("cy",50*(e+n)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",o=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[e+n][t-n]),i[e+n][t-n]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}break}let o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",50*(t-n)+25),o.setAttribute("cy",50*(e+n)+25),o.setAttribute("r",10),o.setAttribute("class","moveLocation"),o.setAttribute("onclick",'"event.stopPropogation()"'),o.addEventListener("click",r=>{s.setAttribute("x",o.getAttribute("cx")-25),s.setAttribute("y",o.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[e+n][t-n]=i[e][t],i[e][t]=null}),l.appendChild(o),u.push(o)}for(let n=1;e-n>=0&&t+n<8;n++){if(null!==i[e-n][t+n]){if(A(i[e-n][t+n])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t+n)+25),r.setAttribute("cy",50*(e-n)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",o=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[e-n][t+n]),i[e-n][t+n]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}break}let o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",50*(t+n)+25),o.setAttribute("cy",50*(e-n)+25),o.setAttribute("r",10),o.setAttribute("class","moveLocation"),o.setAttribute("onclick",'"event.stopPropogation()"'),o.addEventListener("click",r=>{s.setAttribute("x",o.getAttribute("cx")-25),s.setAttribute("y",o.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[e-n][t+n]=i[e][t],i[e][t]=null}),l.appendChild(o),u.push(o)}}function A(t){return t.getAttribute("href").slice(0,t.getAttribute("href").length-4).toLowerCase().split("_")[1]}window.addEventListener("load",t=>{r=document.getElementById("board"),l=document.getElementById("g");for(let t=1;t<8;t++){let e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttribute("x1",50*t),e.setAttribute("y1",0),e.setAttribute("x2",50*t),e.setAttribute("y2",400),e.setAttribute("style","stroke:black;stroke-width:1"),l.appendChild(e)}for(let t=1;t<8;t++){let e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttribute("x1",0),e.setAttribute("y1",50*t),e.setAttribute("x2",400),e.setAttribute("y2",50*t),e.setAttribute("style","stroke:black;stroke-width:1"),l.appendChild(e)}!function(){for(let t=0;t<8;t++){let e=document.createElementNS("http://www.w3.org/2000/svg","image");e.setAttribute("href","Pawn_White.png"),e.setAttribute("x",50*t),e.setAttribute("y",300),e.setAttribute("width",50),e.setAttribute("height",50),e.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(e);let r=document.createElementNS("http://www.w3.org/2000/svg","image");r.setAttribute("href","Pawn_Black.png"),r.setAttribute("x",50*t),r.setAttribute("y",50),r.setAttribute("width",50),r.setAttribute("height",50),r.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(r),i[1][t]=r,i[6][t]=e}for(let t=0;t<8;t++)i[2][t]=null,i[3][t]=null,i[4][t]=null,i[5][t]=null;let t=document.createElementNS("http://www.w3.org/2000/svg","image");t.setAttribute("href","Rook_White.png"),t.setAttribute("x",0),t.setAttribute("y",350),t.setAttribute("width",50),t.setAttribute("height",50),t.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(t);let e=document.createElementNS("http://www.w3.org/2000/svg","image");e.setAttribute("href","Rook_Black.png"),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",50),e.setAttribute("height",50),e.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(e),i[0][0]=e,i[7][0]=t,(t=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("href","Rook_White.png"),t.setAttribute("x",350),t.setAttribute("y",350),t.setAttribute("width",50),t.setAttribute("height",50),t.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(t),(e=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("href","Rook_Black.png"),e.setAttribute("x",350),e.setAttribute("y",0),e.setAttribute("width",50),e.setAttribute("height",50),e.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(e),i[0][7]=e,i[7][7]=t,(t=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("href","Knight_White.png"),t.setAttribute("x",300),t.setAttribute("y",350),t.setAttribute("width",50),t.setAttribute("height",50),t.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(t),(e=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("href","Knight_Black.png"),e.setAttribute("x",300),e.setAttribute("y",0),e.setAttribute("width",50),e.setAttribute("height",50),e.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(e),i[0][6]=e,i[7][6]=t,(t=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("href","Knight_White.png"),t.setAttribute("x",50),t.setAttribute("y",350),t.setAttribute("width",50),t.setAttribute("height",50),t.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(t),(e=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("href","Knight_Black.png"),e.setAttribute("x",50),e.setAttribute("y",0),e.setAttribute("width",50),e.setAttribute("height",50),e.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(e),i[0][1]=e,i[7][1]=t,(t=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("href","Bishop_White.png"),t.setAttribute("x",250),t.setAttribute("y",350),t.setAttribute("width",50),t.setAttribute("height",50),t.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(t),(e=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("href","Bishop_Black.png"),e.setAttribute("x",250),e.setAttribute("y",0),e.setAttribute("width",50),e.setAttribute("height",50),e.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(e),i[0][5]=e,i[7][5]=t,(t=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("href","Bishop_White.png"),t.setAttribute("x",100),t.setAttribute("y",350),t.setAttribute("width",50),t.setAttribute("height",50),t.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(t),(e=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("href","Bishop_Black.png"),e.setAttribute("x",100),e.setAttribute("y",0),e.setAttribute("width",50),e.setAttribute("height",50),e.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(e),i[0][2]=e,i[7][2]=t,(t=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("href","King_White.png"),t.setAttribute("x",200),t.setAttribute("y",350),t.setAttribute("width",50),t.setAttribute("height",50),t.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(t),(e=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("href","King_Black.png"),e.setAttribute("x",200),e.setAttribute("y",0),e.setAttribute("width",50),e.setAttribute("height",50),e.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(e),i[0][4]=e,i[7][4]=t,(t=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("href","Queen_White.png"),t.setAttribute("x",150),t.setAttribute("y",350),t.setAttribute("width",50),t.setAttribute("height",50),t.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(t),(e=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("href","Queen_Black.png"),e.setAttribute("x",150),e.setAttribute("y",0),e.setAttribute("width",50),e.setAttribute("height",50),e.setAttribute("onclick",'"event.stopPropogation()"'),l.appendChild(e),i[0][3]=e,i[7][3]=t}(),i.forEach(t=>{t.forEach(t=>{null!==t&&t.addEventListener("click",t=>{let e=Number(t.toElement.getAttribute("x")),r=Number(t.toElement.getAttribute("y")),h=t.toElement.getAttribute("href"),a=h.slice(0,h.length-4).toLowerCase(),g=a.split("_")[0],d=a.split("_")[1];for(let t=0;t<u.length;)l.removeChild(u.shift());s=t.toElement,function(t,e,r,h){let a="white"===h;switch(r){case"pawn":!function(t,e,r){if(null===i[r?e/50-1:e/50+1][t/50]){let n=document.createElementNS("http://www.w3.org/2000/svg","circle");if(n.setAttribute("cx",t+25),n.setAttribute("cy",25+(r?e-50:e+50)),n.setAttribute("r",10),n.setAttribute("class","moveLocation"),n.setAttribute("onclick",'"event.stopPropogation()"'),n.addEventListener("click",o=>{s.setAttribute("x",n.getAttribute("cx")-25),s.setAttribute("y",n.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[r?e/50-1:e/50+1][t/50]=i[e/50][t/50],i[e/50][t/50]=null}),l.appendChild(n),u.push(n),null===i[r?e/50-2:e/50+2][t/50]&&e/50==(r?6:1)){let n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",t+25),n.setAttribute("cy",25+(r?e-100:e+100)),n.setAttribute("r",10),n.setAttribute("class","moveLocation"),n.setAttribute("onclick",'"event.stopPropogation()"'),n.addEventListener("click",o=>{s.setAttribute("x",n.getAttribute("cx")-25),s.setAttribute("y",n.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[r?e/50-2:e/50+2][t/50]=i[e/50][t/50],i[e/50][t/50]=null}),l.appendChild(n),u.push(n)}}if(null!==i[r?e/50-1:e/50+1][t/50+1]){let n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",t+75),n.setAttribute("cy",25+(r?e-50:e+50)),n.setAttribute("r",10),n.setAttribute("class","moveLocation"),n.setAttribute("onclick",'"event.stopPropogation()"'),n.addEventListener("click",o=>{s.setAttribute("x",n.getAttribute("cx")-25),s.setAttribute("y",n.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());removeLocation=i[r?e/50-1:e/50+1][t/50+1],l.removeChild(removeLocation),i[r?e/50-2:e/50+2][t/50+1]===removeLocation&&(i[r?e/50-2:e/50+2][t/50+1]=null),i[r?e/50-1:e/50+1][t/50+1]=null,i[r?e/50-2:e/50+2][t/50-1]=null,i[r?e/50-1:e/50+1][t/50+1]=i[e/50][t/50],i[e/50][t/50]=null}),l.appendChild(n),u.push(n)}if(null!==i[r?e/50-1:e/50+1][t/50-1]){let n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",t-25),n.setAttribute("cy",25+(r?e-50:e+50)),n.setAttribute("r",10),n.setAttribute("class","moveLocation"),n.setAttribute("onclick",'"event.stopPropogation()"'),n.addEventListener("click",o=>{s.setAttribute("x",n.getAttribute("cx")-25),s.setAttribute("y",n.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[r?e/50-1:e/50+1][t/50-1]),i[r?e/50-1:e/50+1][t/50-1]=null,i[r?e/50-2:e/50+2][t/50-1]=null,i[r?e/50-1:e/50+1][t/50-1]=i[e/50][t/50],i[e/50][t/50]=null}),l.appendChild(n),u.push(n)}}(t,e,a);break;case"knight":!function(t,e,r){if(e<=250&&t<=300&&(null===i[e/50+2][t/50+1]||A(i[e/50+2][t/50+1])!==r)){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",t+75),r.setAttribute("cy",e+125),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropagation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());null!==i[e/50+2][t/50+1]&&(l.removeChild(i[e/50+2][t/50+1]),i[e/50+2][t/50+1]=null),i[e/50+2][t/50+1]=i[e/50][t/50],i[e/50][t/50]=null}),l.appendChild(r),u.push(r)}if(e>=100&&t>=50&&(null===i[e/50-2][t/50-1]||A(i[e/50-2][t/50-1])!==r)){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",t-25),r.setAttribute("cy",e-75),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());null!==i[e/50-2][t/50-1]&&(l.removeChild(i[e/50-2][t/50-1]),i[e/50-2][t/50-1]=null),i[e/50-2][t/50-1]=i[e/50][t/50],i[e/50][t/50]=null}),l.appendChild(r),u.push(r)}if(e<=250&&t>=50&&(null===i[e/50+2][t/50-1]||A(i[e/50+2][t/50-1])!==r)){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",t-25),r.setAttribute("cy",e+125),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropagation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());null!==i[e/50+2][t/50-1]&&(l.removeChild(i[e/50+2][t/50-1]),i[e/50+2][t/50-1]=null),i[e/50+2][t/50-1]=i[e/50][t/50],i[e/50][t/50]=null}),l.appendChild(r),u.push(r)}if(e>=100&&t<=300&&(null===i[e/50-2][t/50+1]||A(i[e/50-2][t/50+1])!==r)){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",t+75),r.setAttribute("cy",e-75),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());null!==i[e/50-2][t/50+1]&&(l.removeChild(i[e/50-2][t/50+1]),i[e/50-2][t/50+1]=null),i[e/50-2][t/50+1]=i[e/50][t/50],i[e/50][t/50]=null}),l.appendChild(r),u.push(r)}if(e<=300&&t<=250&&(null===i[e/50+1][t/50+2]||A(i[e/50+1][t/50+2])!==r)){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",t+125),r.setAttribute("cy",e+75),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropagation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());null!==i[e/50+1][t/50+2]&&(l.removeChild(i[e/50+1][t/50+2]),i[e/50+1][t/50+2]=null),i[e/50+1][t/50+2]=i[e/50][t/50],i[e/50][t/50]=null}),l.appendChild(r),u.push(r)}if(e>=50&&t>=100&&(null===i[e/50-1][t/50-2]||A(i[e/50-1][t/50-2])!==r)){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",t-75),r.setAttribute("cy",e-25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());null!==i[e/50-1][t/50-2]&&(l.removeChild(i[e/50-1][t/50-2]),i[e/50-1][t/50-2]=null),i[e/50-1][t/50-2]=i[e/50][t/50],i[e/50][t/50]=null}),l.appendChild(r),u.push(r)}if(e>=50&&t<=250&&(null===i[e/50-1][t/50+2]||A(i[e/50-1][t/50+2])!==r)){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",t+125),r.setAttribute("cy",e-25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropagation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());null!==i[e/50-1][t/50+2]&&(l.removeChild(i[e/50-1][t/50+2]),i[e/50-1][t/50+2]=null),i[e/50-1][t/50+2]=i[e/50][t/50],i[e/50][t/50]=null}),l.appendChild(r),u.push(r)}if(e<=300&&t>=100&&(null===i[e/50+1][t/50-2]||A(i[e/50+1][t/50-2])!==r)){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",t-75),r.setAttribute("cy",e+75),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());null!==i[e/50+1][t/50-2]&&(l.removeChild(i[e/50+1][t/50-2]),i[e/50+1][t/50-2]=null),i[e/50+1][t/50-2]=i[e/50][t/50],i[e/50][t/50]=null}),l.appendChild(r),u.push(r)}}(t,e,h);break;case"rook":c(t/50,e/50,h);break;case"bishop":b(t/50,e/50,h);break;case"queen":c(t/50,e/50,h),b(t/50,e/50,h);break;case"king":!function(t,e,r){if(e+1<8&&t+1<8&&null!==i[e+1][t+1]&&A(i[e+1][t+1])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t+1)+25),r.setAttribute("cy",50*(e+1)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[e+1][t+1]),i[e+1][t+1]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}else if(e+1<8&&t+1<8&&null===i[e+1][t+1]){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t+1)+25),r.setAttribute("cy",50*(e+1)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[e+1][t+1]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}if(e-1>=0&&t-1>=0&&null!==i[e-1][t-1]&&A(i[e-1][t-1])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t-1)+25),r.setAttribute("cy",50*(e-1)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[e-1][t-1]),i[e-1][t-1]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}else if(e-1>=0&&t-1>=0&&null===i[e-1][t-1]){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t-1)+25),r.setAttribute("cy",50*(e-1)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[e-1][t-1]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}if(e-1>=0&&t+1<8&&null!==i[e-1][t+1]&&A(i[e-1][t+1])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t+1)+25),r.setAttribute("cy",50*(e-1)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[e-1][t+1]),i[e-1][t+1]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}else if(e-1>=0&&t+1<8&&null===i[e-1][t+1]){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t+1)+25),r.setAttribute("cy",50*(e-1)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[e-1][t+1]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}if(e+1<8&&t-1>=0&&null!==i[e+1][t-1]&&A(i[e+1][t-1])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t-1)+25),r.setAttribute("cy",50*(e+1)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[e+1][t-1]),i[e+1][t-1]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}else if(e+1<8&&t-1>=0&&null===i[e+1][t-1]){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t-1)+25),r.setAttribute("cy",50*(e+1)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[e+1][t-1]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}if(e+1<8&&null!==i[e+1][t]&&A(i[e+1][t])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*t+25),r.setAttribute("cy",50*(e+1)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[e+1][t]),i[e+1][t]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}else if(e+1<8&&null===i[e+1][t]){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*t+25),r.setAttribute("cy",50*(e+1)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[e+1][t]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}if(e-1>=0&&null!==i[e-1][t]&&A(i[e-1][t])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*t+25),r.setAttribute("cy",50*(e-1)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[e-1][t]),i[e-1][t]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}else if(e-1>=0&&null===i[e-1][t]){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*t+25),r.setAttribute("cy",50*(e-1)+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[e-1][t]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}if(t+1<8&&null!==i[e][t+1]&&A(i[e][t+1])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t+1)+25),r.setAttribute("cy",50*e+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[e][t+1]),i[e][t+1]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}else if(t+1<8&&null===i[e][t+1]){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t+1)+25),r.setAttribute("cy",50*e+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[e][t+1]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}if(t-1>=0&&null!==i[e][t-1]&&A(i[e][t-1])!==r){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t-1)+25),r.setAttribute("cy",50*e+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());l.removeChild(i[e][t-1]),i[e][t-1]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}else if(t-1>=0&&null===i[e][t-1]){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",50*(t-1)+25),r.setAttribute("cy",50*e+25),r.setAttribute("r",10),r.setAttribute("class","moveLocation"),r.setAttribute("onclick",'"event.stopPropogation()"'),r.addEventListener("click",n=>{s.setAttribute("x",r.getAttribute("cx")-25),s.setAttribute("y",r.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());i[e][t-1]=i[e][t],i[e][t]=null}),l.appendChild(r),u.push(r)}let c="white"===r?n.white:n.black;if(!c){if(!(c="white"===r?o.wLeft:o.bLeft)&&null===i["white"===r?7:0][1]&&null===i["white"===r?7:0][2]&&null===i["white"===r?7:0][3]){let n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",50*(t-2)+25),n.setAttribute("cy",50*e+25),n.setAttribute("r",10),n.setAttribute("class","moveLocation"),n.setAttribute("onclick",'"event.stopPropogation()"'),n.addEventListener("click",o=>{s.setAttribute("x",n.getAttribute("cx")-25),s.setAttribute("y",n.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());let c=i["white"===r?7:0][0];c.setAttribute("x",50*(t-1)),i[e][t-2]=i[e][t],i[e][t-1]=c,i[e][t]=null,i["white"===r?7:0][0]=null}),l.appendChild(n),u.push(n)}if(!(c="white"===r?o.wRight:o.bRight)&&null===i["white"===r?7:0][5]&&null===i["white"===r?7:0][6]){let n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",50*(t+2)+25),n.setAttribute("cy",50*e+25),n.setAttribute("r",10),n.setAttribute("class","moveLocation"),n.setAttribute("onclick",'"event.stopPropogation()"'),n.addEventListener("click",o=>{s.setAttribute("x",n.getAttribute("cx")-25),s.setAttribute("y",n.getAttribute("cy")-25);for(let t=0;t<u.length;)l.removeChild(u.shift());let c=i["white"===r?7:0][0];c.setAttribute("x",50*(t+1)),i[e][t+2]=i[e][t],i[e][t+1]=c,i[e][t=null],i["white"===r?7:0][0]=null}),l.appendChild(n),u.push(n)}}}(t/50,e/50,h)}}(e,r,g,d)})})})}),document.addEventListener("click",t=>{if(t.target===document.body||t.target===r){s=null;for(let t=0;t<u.length;)l.removeChild(u.shift())}})}]);